{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _utils = require(\"@jimp/utils\");\nvar _resize = _interopRequireDefault(require(\"./modules/resize\"));\nvar _resize2 = _interopRequireDefault(require(\"./modules/resize2\"));\nvar _default = function _default() {\n  return {\n    constants: {\n      RESIZE_NEAREST_NEIGHBOR: \"nearestNeighbor\",\n      RESIZE_BILINEAR: \"bilinearInterpolation\",\n      RESIZE_BICUBIC: \"bicubicInterpolation\",\n      RESIZE_HERMITE: \"hermiteInterpolation\",\n      RESIZE_BEZIER: \"bezierInterpolation\"\n    },\n    \"class\": {\n      /**\n       * Resizes the image to a set width and height using a 2-pass bilinear algorithm\n       * @param {number} w the width to resize the image to (or Jimp.AUTO)\n       * @param {number} h the height to resize the image to (or Jimp.AUTO)\n       * @param {string} mode (optional) a scaling method (e.g. Jimp.RESIZE_BEZIER)\n       * @param {function(Error, Jimp)} cb (optional) a callback for when complete\n       * @returns {Jimp} this for chaining of methods\n       */\n      resize: function resize(w, h, mode, cb) {\n        if (typeof w !== \"number\" || typeof h !== \"number\") {\n          return _utils.throwError.call(this, \"w and h must be numbers\", cb);\n        }\n        if (typeof mode === \"function\" && typeof cb === \"undefined\") {\n          cb = mode;\n          mode = null;\n        }\n        if (w === this.constructor.AUTO && h === this.constructor.AUTO) {\n          return _utils.throwError.call(this, \"w and h cannot both be set to auto\", cb);\n        }\n        if (w === this.constructor.AUTO) {\n          w = this.bitmap.width * (h / this.bitmap.height);\n        }\n        if (h === this.constructor.AUTO) {\n          h = this.bitmap.height * (w / this.bitmap.width);\n        }\n        if (w < 0 || h < 0) {\n          return _utils.throwError.call(this, \"w and h must be positive numbers\", cb);\n        } // round inputs\n\n        w = Math.round(w);\n        h = Math.round(h);\n        if (typeof _resize2[\"default\"][mode] === \"function\") {\n          var dst = {\n            data: Buffer.alloc(w * h * 4),\n            width: w,\n            height: h\n          };\n          _resize2[\"default\"][mode](this.bitmap, dst);\n          this.bitmap = dst;\n        } else {\n          var image = this;\n          var resize = new _resize[\"default\"](this.bitmap.width, this.bitmap.height, w, h, true, true, function (buffer) {\n            image.bitmap.data = Buffer.from(buffer);\n            image.bitmap.width = w;\n            image.bitmap.height = h;\n          });\n          resize.resize(this.bitmap.data);\n        }\n        if ((0, _utils.isNodePattern)(cb)) {\n          cb.call(this, null, this);\n        }\n        return this;\n      }\n    }\n  };\n};\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","map":{"version":3,"names":["_utils","require","_resize","_interopRequireDefault","_resize2","_default","constants","RESIZE_NEAREST_NEIGHBOR","RESIZE_BILINEAR","RESIZE_BICUBIC","RESIZE_HERMITE","RESIZE_BEZIER","resize","w","h","mode","cb","throwError","call","constructor","AUTO","bitmap","width","height","Math","round","dst","data","Buffer","alloc","image","buffer","from","isNodePattern"],"sources":["/Users/wolfejam/HEXTRA-3/node_modules/@jimp/plugin-resize/src/index.js"],"sourcesContent":["import { throwError, isNodePattern } from \"@jimp/utils\";\n\nimport Resize from \"./modules/resize\";\nimport Resize2 from \"./modules/resize2\";\n\nexport default () => ({\n  constants: {\n    RESIZE_NEAREST_NEIGHBOR: \"nearestNeighbor\",\n    RESIZE_BILINEAR: \"bilinearInterpolation\",\n    RESIZE_BICUBIC: \"bicubicInterpolation\",\n    RESIZE_HERMITE: \"hermiteInterpolation\",\n    RESIZE_BEZIER: \"bezierInterpolation\",\n  },\n\n  class: {\n    /**\n     * Resizes the image to a set width and height using a 2-pass bilinear algorithm\n     * @param {number} w the width to resize the image to (or Jimp.AUTO)\n     * @param {number} h the height to resize the image to (or Jimp.AUTO)\n     * @param {string} mode (optional) a scaling method (e.g. Jimp.RESIZE_BEZIER)\n     * @param {function(Error, Jimp)} cb (optional) a callback for when complete\n     * @returns {Jimp} this for chaining of methods\n     */\n    resize(w, h, mode, cb) {\n      if (typeof w !== \"number\" || typeof h !== \"number\") {\n        return throwError.call(this, \"w and h must be numbers\", cb);\n      }\n\n      if (typeof mode === \"function\" && typeof cb === \"undefined\") {\n        cb = mode;\n        mode = null;\n      }\n\n      if (w === this.constructor.AUTO && h === this.constructor.AUTO) {\n        return throwError.call(this, \"w and h cannot both be set to auto\", cb);\n      }\n\n      if (w === this.constructor.AUTO) {\n        w = this.bitmap.width * (h / this.bitmap.height);\n      }\n\n      if (h === this.constructor.AUTO) {\n        h = this.bitmap.height * (w / this.bitmap.width);\n      }\n\n      if (w < 0 || h < 0) {\n        return throwError.call(this, \"w and h must be positive numbers\", cb);\n      }\n\n      // round inputs\n      w = Math.round(w);\n      h = Math.round(h);\n\n      if (typeof Resize2[mode] === \"function\") {\n        const dst = {\n          data: Buffer.alloc(w * h * 4),\n          width: w,\n          height: h,\n        };\n        Resize2[mode](this.bitmap, dst);\n        this.bitmap = dst;\n      } else {\n        const image = this;\n        const resize = new Resize(\n          this.bitmap.width,\n          this.bitmap.height,\n          w,\n          h,\n          true,\n          true,\n          (buffer) => {\n            image.bitmap.data = Buffer.from(buffer);\n            image.bitmap.width = w;\n            image.bitmap.height = h;\n          }\n        );\n        resize.resize(this.bitmap.data);\n      }\n\n      if (isNodePattern(cb)) {\n        cb.call(this, null, this);\n      }\n\n      return this;\n    },\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}